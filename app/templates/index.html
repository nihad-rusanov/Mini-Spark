<!DOCTYPE html>
<html>
<head>
    <title>Mini Spark Web</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
    <h1>Mini Spark</h1>
    <form method="POST" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="dataset" class="form-label">Download CSV file</label>
            <input class="form-control" type="file" name="dataset" required>
        </div>
        <div class="mb-3">
            <label for="query" class="form-label">SQL Query</label>
            <input class="form-control" type="text" name="query" placeholder="SELECT name FROM products WHERE price > 500" required>
        </div>
        <button type="submit" class="btn btn-primary">Run</button>
    </form>

    {% if result %}
    <hr>
    <h3>Results:</h3>
    <ul class="list-group">
        {% for item in result %}
        <li class="list-group-item">{{ item }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <div class="alert alert-info" style="margin-top: 10px;">
        <strong>Limitations:</strong><br>
        Only simple SQL queries are supported. Please follow these rules:
        <ul>
            <li><code>SELECT &lt;column&gt; FROM products WHERE &lt;column&gt; &lt;operator&gt; &lt;value&gt;</code></li>
            <li>Only one column in <code>SELECT</code></li>
            <li><code>FROM</code> must always be <code>products</code></li>
            <li>Supported operators: <code>=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code></li>
            <li>String values do not require quotes (e.g., <code>category = Stationery</code>)</li>
            <li><code>AND</code>, <code>OR</code>, and multiple conditions are not supported</li>
        </ul>
    </div>

</body>
</html>
